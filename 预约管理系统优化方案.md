# é¢„çº¦ç®¡ç†ç³»ç»Ÿå‰åç«¯ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ¯ æ€»ä½“ç›®æ ‡

åŸºäºç®€åŒ–ä¸šåŠ¡æµç¨‹ï¼Œä¼˜åŒ–é¢„çº¦ç®¡ç†ç³»ç»Ÿçš„å‰åç«¯å®ç°ï¼Œå¢åŠ æ”¹æœŸåŠŸèƒ½ï¼Œä¿æŒç³»ç»Ÿç®€æ´æ€§çš„åŒæ—¶æå‡ç”¨æˆ·ä½“éªŒã€‚

## ğŸ“Š ä¸šåŠ¡æµç¨‹è®¾è®¡

### ç®€åŒ–åçš„æ ¸å¿ƒæµç¨‹
```
è®¢å•æ”¯ä»˜æˆåŠŸ â†’ è‡ªåŠ¨ç¡®è®¤é¢„çº¦(2) â†’ è‡ªåŠ¨ç”Ÿæˆè¯¾è¡¨(1-å¾…ä¸Šè¯¾)
                    â†“
å·²ç¡®è®¤é¢„çº¦ â†’ [æ ¸é”€] è®°å½•æ—¶é—´ï¼ŒçŠ¶æ€ä¸å˜
           â†’ [æ”¹æœŸ] ä¿®æ”¹é¢„çº¦æ—¶é—´ï¼ŒåŒæ­¥æ›´æ–°è¯¾è¡¨
           â†’ [å–æ¶ˆ] å˜æ›´çŠ¶æ€ä¸ºå·²å–æ¶ˆ(5)
```

### å…³é”®ä¸šåŠ¡è§„åˆ™
1. **è‡ªåŠ¨åŒ–ç¡®è®¤**: è®¢å•æ”¯ä»˜åè‡ªåŠ¨ç¡®è®¤é¢„çº¦ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
2. **çŠ¶æ€ç®€åŒ–**: æ ¸é”€åªè®°å½•æ—¶é—´ï¼Œä¸æ”¹å˜é¢„çº¦å’Œè¯¾è¡¨çŠ¶æ€
3. **æ”¹æœŸåŠŸèƒ½**: æ”¯æŒä¿®æ”¹é¢„çº¦æ—¶é—´ï¼Œè‡ªåŠ¨æ£€æµ‹å†²çªï¼ŒåŒæ­¥æ›´æ–°è¯¾è¡¨
4. **æ•°æ®ä¸€è‡´æ€§**: é¢„çº¦å’Œè¯¾è¡¨æ•°æ®å§‹ç»ˆä¿æŒåŒæ­¥

## ğŸ”§ åç«¯ä¼˜åŒ–æ–¹æ¡ˆ

### A. BookingService åŠŸèƒ½å¢å¼º

#### 1. ç®€åŒ–æ ¸é”€é€»è¾‘
```java
@Transactional
public ResponseDTO<Void> checkinBooking(Long bookingId) {
    BookingEntity booking = bookingDao.selectById(bookingId);
    if (booking.getBookingStatus() != 2) {
        return ResponseDTO.userErrorParam("åªæœ‰å·²ç¡®è®¤çš„é¢„çº¦æ‰èƒ½æ ¸é”€");
    }
    
    // åªè®°å½•æ ¸é”€æ—¶é—´ï¼Œä¸æ”¹å˜çŠ¶æ€
    booking.setArrivalTime(LocalDateTime.now());
    booking.setUpdateTime(LocalDateTime.now());
    bookingDao.updateById(booking);
    
    return ResponseDTO.ok();
}
```

#### 2. æ–°å¢æ”¹æœŸåŠŸèƒ½
```java
@Transactional
public ResponseDTO<Void> rescheduleBooking(Long bookingId, BookingRescheduleForm rescheduleForm) {
    // 1. æ ¡éªŒé¢„çº¦çŠ¶æ€
    BookingEntity booking = bookingDao.selectById(bookingId);
    if (booking.getBookingStatus() != 2) {
        return ResponseDTO.userErrorParam("åªæœ‰å·²ç¡®è®¤çš„é¢„çº¦æ‰èƒ½æ”¹æœŸ");
    }
    
    // 2. æ ¡éªŒæ–°æ—¶é—´çš„å¯ç”¨æ€§ï¼ˆæ•™ç»ƒã€é©¬åŒ¹å†²çªæ£€æµ‹ï¼‰
    ConflictCheckResult conflictResult = checkTimeConflict(
        booking.getCoachId(), 
        booking.getHorseId(),
        rescheduleForm.getNewStartTime(),
        rescheduleForm.getNewEndTime(),
        bookingId // æ’é™¤å½“å‰é¢„çº¦
    );
    
    if (conflictResult.hasConflict()) {
        return ResponseDTO.userErrorParam("æ–°æ—¶é—´æ®µå­˜åœ¨å†²çªï¼š" + conflictResult.getConflictMessage());
    }
    
    // 3. æ›´æ–°é¢„çº¦æ—¶é—´
    booking.setStartTime(rescheduleForm.getNewStartTime());
    booking.setEndTime(rescheduleForm.getNewEndTime());
    booking.setUpdateTime(LocalDateTime.now());
    bookingDao.updateById(booking);
    
    // 4. åŒæ­¥æ›´æ–°è¯¾è¡¨æ—¶é—´
    LessonScheduleEntity schedule = scheduleDao.selectByBookingId(bookingId);
    if (schedule != null) {
        schedule.setStartTime(rescheduleForm.getNewStartTime());
        schedule.setEndTime(rescheduleForm.getNewEndTime());
        schedule.setLessonDate(rescheduleForm.getNewStartTime().toLocalDate());
        scheduleDao.updateById(schedule);
    }
    
    // 5. è®°å½•æ”¹æœŸæ—¥å¿—
    operateLogService.recordReschedule(bookingId, booking.getStartTime(), rescheduleForm.getNewStartTime());
    
    return ResponseDTO.ok();
}
```

#### 3. å¢å¼ºæ—¶é—´å†²çªæ£€æµ‹
```java
public ConflictCheckResult checkTimeConflict(Long coachId, Long horseId, 
                                           LocalDateTime startTime, LocalDateTime endTime, 
                                           Long excludeBookingId) {
    ConflictCheckResult result = new ConflictCheckResult();
    
    // æ£€æŸ¥æ•™ç»ƒæ—¶é—´å†²çª
    List<BookingEntity> coachConflicts = bookingDao.findCoachTimeConflicts(
        coachId, startTime, endTime, excludeBookingId);
    if (!coachConflicts.isEmpty()) {
        result.addConflict("æ•™ç»ƒ", coachConflicts);
    }
    
    // æ£€æŸ¥é©¬åŒ¹æ—¶é—´å†²çª  
    List<BookingEntity> horseConflicts = bookingDao.findHorseTimeConflicts(
        horseId, startTime, endTime, excludeBookingId);
    if (!horseConflicts.isEmpty()) {
        result.addConflict("é©¬åŒ¹", horseConflicts);
    }
    
    return result;
}
```

### B. æ–°å¢æ•°æ®ä¼ è¾“å¯¹è±¡

#### 1. æ”¹æœŸè¡¨å•å¯¹è±¡
```java
@Data
public class BookingRescheduleForm {
    @NotNull(message = "é¢„çº¦IDä¸èƒ½ä¸ºç©º")
    private Long bookingId;
    
    @NotNull(message = "æ–°å¼€å§‹æ—¶é—´ä¸èƒ½ä¸ºç©º")
    @Future(message = "æ–°å¼€å§‹æ—¶é—´å¿…é¡»æ˜¯æœªæ¥æ—¶é—´")
    private LocalDateTime newStartTime;
    
    @NotNull(message = "æ–°ç»“æŸæ—¶é—´ä¸èƒ½ä¸ºç©º")  
    private LocalDateTime newEndTime;
    
    private String rescheduleReason; // æ”¹æœŸåŸå› 
    
    @AssertTrue(message = "ç»“æŸæ—¶é—´å¿…é¡»æ™šäºå¼€å§‹æ—¶é—´")
    public boolean isValidTimeRange() {
        return newEndTime != null && newStartTime != null && 
               newEndTime.isAfter(newStartTime);
    }
}
```

#### 2. å†²çªæ£€æµ‹ç»“æœå¯¹è±¡
```java
@Data
public class ConflictCheckResult {
    private boolean hasConflict = false;
    private List<ConflictDetail> conflicts = new ArrayList<>();
    private String conflictMessage;
    
    public void addConflict(String resourceType, List<BookingEntity> conflictBookings) {
        if (!conflictBookings.isEmpty()) {
            this.hasConflict = true;
            conflicts.add(new ConflictDetail(resourceType, conflictBookings));
            updateConflictMessage();
        }
    }
    
    private void updateConflictMessage() {
        this.conflictMessage = conflicts.stream()
            .map(c -> c.getResourceType() + "æ—¶é—´å†²çª")
            .collect(Collectors.joining("ï¼Œ"));
    }
}
```

### C. BookingController æ¥å£å¢å¼º

```java
@PostMapping("/reschedule")
@Operation(summary = "é¢„çº¦æ”¹æœŸ")
public ResponseDTO<Void> rescheduleBooking(@RequestBody @Valid BookingRescheduleForm rescheduleForm) {
    return bookingService.rescheduleBooking(rescheduleForm.getBookingId(), rescheduleForm);
}

@PostMapping("/checkRescheduleConflict")  
@Operation(summary = "æ”¹æœŸå†²çªæ£€æµ‹")
public ResponseDTO<ConflictCheckResult> checkRescheduleConflict(@RequestBody @Valid BookingRescheduleForm rescheduleForm) {
    BookingEntity booking = bookingService.getById(rescheduleForm.getBookingId());
    if (booking == null) {
        return ResponseDTO.userErrorParam("é¢„çº¦ä¸å­˜åœ¨");
    }
    
    ConflictCheckResult result = bookingService.checkTimeConflict(
        booking.getCoachId(), booking.getHorseId(),
        rescheduleForm.getNewStartTime(), rescheduleForm.getNewEndTime(),
        rescheduleForm.getBookingId()
    );
    
    return ResponseDTO.ok(result);
}
```

### D. æ•°æ®åº“å±‚ä¼˜åŒ–

#### 1. BookingDao æ–°å¢æŸ¥è¯¢æ–¹æ³•
```java
/**
 * æŸ¥è¯¢æ•™ç»ƒæ—¶é—´å†²çªçš„é¢„çº¦
 */
List<BookingEntity> findCoachTimeConflicts(@Param("coachId") Long coachId,
                                         @Param("startTime") LocalDateTime startTime,
                                         @Param("endTime") LocalDateTime endTime,
                                         @Param("excludeBookingId") Long excludeBookingId);

/**
 * æŸ¥è¯¢é©¬åŒ¹æ—¶é—´å†²çªçš„é¢„çº¦  
 */
List<BookingEntity> findHorseTimeConflicts(@Param("horseId") Long horseId,
                                         @Param("startTime") LocalDateTime startTime,
                                         @Param("endTime") LocalDateTime endTime,
                                         @Param("excludeBookingId") Long excludeBookingId);
```

#### 2. BookingMapper.xml æ–°å¢SQL
```xml
<select id="findCoachTimeConflicts" resultType="BookingEntity">
    SELECT * FROM m_booking 
    WHERE coach_id = #{coachId}
    AND booking_status = 2 
    AND booking_id != #{excludeBookingId}
    AND (
        (start_time &lt;= #{startTime} AND end_time &gt; #{startTime}) OR
        (start_time &lt; #{endTime} AND end_time &gt;= #{endTime}) OR  
        (start_time &gt;= #{startTime} AND end_time &lt;= #{endTime})
    )
</select>

<select id="findHorseTimeConflicts" resultType="BookingEntity">
    SELECT * FROM m_booking 
    WHERE horse_id = #{horseId}
    AND booking_status = 2
    AND booking_id != #{excludeBookingId}
    AND (
        (start_time &lt;= #{startTime} AND end_time &gt; #{startTime}) OR
        (start_time &lt; #{endTime} AND end_time &gt;= #{endTime}) OR
        (start_time &gt;= #{startTime} AND end_time &lt;= #{endTime})
    )
</select>
```

## ğŸ¨ å‰ç«¯ä¼˜åŒ–æ–¹æ¡ˆ

### A. BookingList.vue æ“ä½œæŒ‰é’®ä¼˜åŒ–

#### 1. é‡æ–°è®¾è®¡æ“ä½œæŒ‰é’®é€»è¾‘
```vue
<template #action="{ record }">
  <a-space>
    <a @click="showBookingDetail(record)" v-privilege="'business:booking:detail'">
      è¯¦æƒ…
    </a>
    
    <!-- å·²ç¡®è®¤ä¸”æœªæ ¸é”€ï¼šæ˜¾ç¤ºæ ¸é”€å’Œæ”¹æœŸ -->
    <template v-if="record.bookingStatus === 2 && !record.arrivalTime">
      <a 
        @click="checkinBooking(record)" 
        v-privilege="'business:booking:checkin'"
        style="color: #52c41a;"
      >
        æ ¸é”€
      </a>
      <a 
        @click="showRescheduleModal(record)" 
        v-privilege="'business:booking:reschedule'"
        style="color: #1890ff;"
      >
        æ”¹æœŸ
      </a>
    </template>
    
    <!-- å·²ç¡®è®¤ä½†æœªæ ¸é”€ï¼šå¯ä»¥å–æ¶ˆ -->
    <a 
      @click="cancelBooking(record)" 
      v-if="record.bookingStatus === 2 && !record.arrivalTime"
      v-privilege="'business:booking:cancel'"
      style="color: #ff4d4f;"
    >
      å–æ¶ˆ
    </a>
  </a-space>
</template>
```

#### 2. çŠ¶æ€æ˜¾ç¤ºä¼˜åŒ–
```vue
<template #bookingStatus="{ record }">
  <a-space direction="vertical" size="small">
    <a-tag :color="getStatusColor(record.bookingStatus)">
      {{ getStatusName(record.bookingStatus) }}
    </a-tag>
    <a-tag v-if="record.arrivalTime" color="success" size="small">
      å·²æ ¸é”€ {{ formatTime(record.arrivalTime) }}
    </a-tag>
  </a-space>
</template>
```

### B. æ–°å¢æ”¹æœŸå¼¹çª—ç»„ä»¶

#### åˆ›å»º BookingRescheduleModal.vue
```vue
<template>
  <a-modal
    v-model:open="visible"
    title="é¢„çº¦æ”¹æœŸ"
    @ok="handleReschedule"
    @cancel="handleCancel"
    :confirmLoading="loading"
    width="600px"
  >
    <a-form
      ref="formRef"
      :model="rescheduleForm"
      :rules="formRules"
      :label-col="{ span: 6 }"
      :wrapper-col="{ span: 16 }"
    >
      <a-form-item label="å½“å‰æ—¶é—´">
        <span>{{ formatDateTime(bookingInfo.startTime) }} - {{ formatDateTime(bookingInfo.endTime) }}</span>
      </a-form-item>
      
      <a-form-item label="æ–°å¼€å§‹æ—¶é—´" name="newStartTime">
        <a-date-picker
          v-model:value="rescheduleForm.newStartTime"
          show-time
          placeholder="è¯·é€‰æ‹©æ–°å¼€å§‹æ—¶é—´"
          :disabled-date="disabledDate"
          format="YYYY-MM-DD HH:mm"
          valueFormat="YYYY-MM-DD HH:mm:ss"
        />
      </a-form-item>
      
      <a-form-item label="æ–°ç»“æŸæ—¶é—´" name="newEndTime">
        <a-date-picker
          v-model:value="rescheduleForm.newEndTime"
          show-time  
          placeholder="è¯·é€‰æ‹©æ–°ç»“æŸæ—¶é—´"
          :disabled-date="disabledDate"
          format="YYYY-MM-DD HH:mm"
          valueFormat="YYYY-MM-DD HH:mm:ss"
        />
      </a-form-item>
      
      <a-form-item label="æ”¹æœŸåŸå› " name="rescheduleReason">
        <a-textarea
          v-model:value="rescheduleForm.rescheduleReason"
          placeholder="è¯·è¾“å…¥æ”¹æœŸåŸå› "
          :rows="3"
        />
      </a-form-item>
      
      <!-- å†²çªæ£€æµ‹ç»“æœæ˜¾ç¤º -->
      <a-alert
        v-if="conflictResult && conflictResult.hasConflict"
        :message="`æ—¶é—´å†²çªï¼š${conflictResult.conflictMessage}`"
        type="error"
        show-icon
        style="margin-top: 16px;"
      />
    </a-form>
  </a-modal>
</template>

<script setup>
import { ref, reactive, watch } from 'vue';
import { message } from 'ant-design-vue';
import { bookingApi } from '/@/api/business/booking/booking-api';
import dayjs from 'dayjs';

// Props
const props = defineProps({
  visible: Boolean,
  bookingInfo: Object
});

// Emits
const emit = defineEmits(['update:visible', 'success']);

// è¡¨å•æ•°æ®
const rescheduleForm = reactive({
  bookingId: null,
  newStartTime: null,
  newEndTime: null,
  rescheduleReason: ''
});

// å†²çªæ£€æµ‹ç»“æœ
const conflictResult = ref(null);
const loading = ref(false);

// è¡¨å•éªŒè¯è§„åˆ™
const formRules = {
  newStartTime: [{ required: true, message: 'è¯·é€‰æ‹©æ–°å¼€å§‹æ—¶é—´' }],
  newEndTime: [{ required: true, message: 'è¯·é€‰æ‹©æ–°ç»“æŸæ—¶é—´' }],
  rescheduleReason: [{ required: true, message: 'è¯·è¾“å…¥æ”¹æœŸåŸå› ' }]
};

// ç›‘å¬æ—¶é—´å˜åŒ–ï¼Œè‡ªåŠ¨æ£€æµ‹å†²çª
watch([() => rescheduleForm.newStartTime, () => rescheduleForm.newEndTime], 
  async ([newStart, newEnd]) => {
    if (newStart && newEnd && props.bookingInfo) {
      await checkConflict();
    }
  });

// å†²çªæ£€æµ‹
const checkConflict = async () => {
  try {
    const res = await bookingApi.checkRescheduleConflict({
      bookingId: props.bookingInfo.bookingId,
      newStartTime: rescheduleForm.newStartTime,
      newEndTime: rescheduleForm.newEndTime
    });
    
    if (res.ok) {
      conflictResult.value = res.data;
    }
  } catch (error) {
    console.error('å†²çªæ£€æµ‹å¤±è´¥', error);
  }
};

// æäº¤æ”¹æœŸ
const handleReschedule = async () => {
  try {
    loading.value = true;
    
    // æ£€æŸ¥æ˜¯å¦æœ‰å†²çª
    if (conflictResult.value?.hasConflict) {
      message.error('å­˜åœ¨æ—¶é—´å†²çªï¼Œæ— æ³•æ”¹æœŸ');
      return;
    }
    
    const res = await bookingApi.rescheduleBooking({
      ...rescheduleForm,
      bookingId: props.bookingInfo.bookingId
    });
    
    if (res.ok) {
      message.success('æ”¹æœŸæˆåŠŸ');
      emit('success');
      handleCancel();
    } else {
      message.error(res.msg || 'æ”¹æœŸå¤±è´¥');
    }
  } catch (error) {
    message.error('æ”¹æœŸå¤±è´¥');
  } finally {
    loading.value = false;
  }
};

// å–æ¶ˆæ”¹æœŸ
const handleCancel = () => {
  Object.assign(rescheduleForm, {
    bookingId: null,
    newStartTime: null,
    newEndTime: null, 
    rescheduleReason: ''
  });
  conflictResult.value = null;
  emit('update:visible', false);
};

// ç¦ç”¨è¿‡å»çš„æ—¥æœŸ
const disabledDate = (current) => {
  return current && current < dayjs().startOf('day');
};

const formatDateTime = (dateTime) => {
  if (!dateTime) return '';
  return dayjs(dateTime).format('YYYY-MM-DD HH:mm');
};
</script>
```

### C. BookingDetail.vue å¿«é€Ÿæ“ä½œä¼˜åŒ–

```vue
<!-- å¿«é€Ÿæ“ä½œåŒºåŸŸ -->
<a-card title="å¿«é€Ÿæ“ä½œ" v-if="bookingDetail.bookingStatus === 2">
  <a-space>
    <!-- æœªæ ¸é”€æ—¶æ˜¾ç¤ºæ ¸é”€å’Œæ”¹æœŸæŒ‰é’® -->
    <template v-if="!bookingDetail.arrivalTime">
      <a-button 
        type="primary" 
        @click="checkinBooking"
        v-privilege="'business:booking:checkin'"
      >
        <LoginOutlined />
        æ ¸é”€é¢„çº¦
      </a-button>
      
      <a-button 
        @click="showRescheduleModal"
        v-privilege="'business:booking:reschedule'"
      >
        <SwapOutlined />
        æ”¹æœŸ
      </a-button>
    </template>
    
    <!-- å·²æ ¸é”€æ—¶æ˜¾ç¤ºæ ¸é”€è®°å½• -->
    <template v-else>
      <a-descriptions title="æ ¸é”€è®°å½•" :column="1">
        <a-descriptions-item label="æ ¸é”€æ—¶é—´">
          {{ formatDateTime(bookingDetail.arrivalTime) }}
        </a-descriptions-item>
      </a-descriptions>
    </template>
  </a-space>
</a-card>

<!-- æ”¹æœŸå¼¹çª— -->
<BookingRescheduleModal
  v-model:visible="rescheduleModalVisible"
  :booking-info="bookingDetail"
  @success="onRescheduleSuccess"
/>
```

### D. å‰ç«¯ API å±‚å¢å¼º

#### æ›´æ–° booking-api.js
```javascript
// æ”¹æœŸç›¸å…³æ¥å£
export const bookingApi = {
  // ... ç°æœ‰æ¥å£
  
  // é¢„çº¦æ”¹æœŸ
  rescheduleBooking(data) {
    return request.post('/api/admin/booking/reschedule', data);
  },
  
  // æ”¹æœŸå†²çªæ£€æµ‹
  checkRescheduleConflict(data) {
    return request.post('/api/admin/booking/checkRescheduleConflict', data);
  }
};
```

## ğŸ“‹ å®æ–½è®¡åˆ’

### ğŸ”´ ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å®æ–½ï¼ˆç«‹å³å¼€å§‹ï¼‰

#### åç«¯ä»»åŠ¡
- [ ] 1.1 åˆ›å»º `BookingRescheduleForm` è¡¨å•å¯¹è±¡
- [ ] 1.2 åˆ›å»º `ConflictCheckResult` ç»“æœå¯¹è±¡
- [ ] 1.3 ç®€åŒ– `BookingService.checkinBooking()` æ–¹æ³•
- [ ] 1.4 æ–°å¢ `BookingService.rescheduleBooking()` æ–¹æ³•
- [ ] 1.5 å®ç° `BookingService.checkTimeConflict()` å†²çªæ£€æµ‹
- [ ] 1.6 åœ¨ `BookingDao` ä¸­æ·»åŠ å†²çªæŸ¥è¯¢æ–¹æ³•
- [ ] 1.7 åœ¨ `BookingMapper.xml` ä¸­æ·»åŠ å†²çªæ£€æµ‹SQL
- [ ] 1.8 åœ¨ `BookingController` ä¸­æ·»åŠ æ”¹æœŸæ¥å£

#### å‰ç«¯ä»»åŠ¡
- [ ] 1.9 åˆ›å»º `BookingRescheduleModal.vue` æ”¹æœŸå¼¹çª—ç»„ä»¶
- [ ] 1.10 ä¼˜åŒ– `BookingList.vue` æ“ä½œæŒ‰é’®æ˜¾ç¤ºé€»è¾‘
- [ ] 1.11 ä¼˜åŒ– `BookingList.vue` çŠ¶æ€æ˜¾ç¤º
- [ ] 1.12 æ›´æ–° `BookingDetail.vue` å¿«é€Ÿæ“ä½œåŒºåŸŸ
- [ ] 1.13 æ›´æ–° `booking-api.js` æ·»åŠ æ”¹æœŸæ¥å£

### ğŸŸ¡ ç¬¬äºŒé˜¶æ®µï¼šåŠŸèƒ½å®Œå–„ï¼ˆ1å‘¨å†…å®Œæˆï¼‰

#### åç«¯ä»»åŠ¡
- [ ] 2.1 å®Œå–„å†²çªæ£€æµ‹çš„æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] 2.2 æ·»åŠ æ”¹æœŸæ“ä½œæ—¥å¿—è®°å½•åŠŸèƒ½
- [ ] 2.3 å¢å¼ºå¼‚å¸¸å¤„ç†å’Œæ•°æ®æ ¡éªŒ
- [ ] 2.4 æ·»åŠ æ”¹æœŸæƒé™æ§åˆ¶

#### å‰ç«¯ä»»åŠ¡
- [ ] 2.5 ä¼˜åŒ–æ”¹æœŸå¼¹çª—çš„ç”¨æˆ·ä½“éªŒ
- [ ] 2.6 æ·»åŠ å†²çªæ£€æµ‹çš„å®æ—¶æç¤ºæ•ˆæœ
- [ ] 2.7 å®Œå–„çŠ¶æ€æ˜¾ç¤ºå’Œäº¤äº’åé¦ˆ
- [ ] 2.8 æ·»åŠ æ”¹æœŸæˆåŠŸåçš„æ•°æ®åˆ·æ–°

### ğŸŸ¢ ç¬¬ä¸‰é˜¶æ®µï¼šä½“éªŒä¼˜åŒ–ï¼ˆåç»­è¿­ä»£ï¼‰

- [ ] 3.1 æ·»åŠ æ”¹æœŸå†å²è®°å½•æŸ¥è¯¢åŠŸèƒ½
- [ ] 3.2 å¢åŠ æ‰¹é‡æ”¹æœŸåŠŸèƒ½ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] 3.3 ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…
- [ ] 3.4 æ·»åŠ æ”¹æœŸé€šçŸ¥æ¨é€åŠŸèƒ½
- [ ] 3.5 æ·»åŠ æ”¹æœŸç»Ÿè®¡æŠ¥è¡¨

## ğŸ“Š éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [ ] æ ¸é”€åŠŸèƒ½ï¼šåªè®°å½•æ—¶é—´ï¼Œä¸æ”¹å˜çŠ¶æ€
- [ ] æ”¹æœŸåŠŸèƒ½ï¼šæ”¯æŒæ—¶é—´ä¿®æ”¹ï¼Œè‡ªåŠ¨å†²çªæ£€æµ‹
- [ ] æ•°æ®åŒæ­¥ï¼šé¢„çº¦æ”¹æœŸåè¯¾è¡¨æ—¶é—´åŒæ­¥æ›´æ–°
- [ ] æƒé™æ§åˆ¶ï¼šä¸åŒè§’è‰²æœ‰å¯¹åº”çš„æ“ä½œæƒé™

### æ€§èƒ½éªŒæ”¶
- [ ] å†²çªæ£€æµ‹å“åº”æ—¶é—´ < 500ms
- [ ] æ”¹æœŸæ“ä½œå“åº”æ—¶é—´ < 1s
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 2s

### ç”¨æˆ·ä½“éªŒéªŒæ”¶
- [ ] æ“ä½œæŒ‰é’®æ˜¾ç¤ºé€»è¾‘æ¸…æ™°
- [ ] å†²çªæç¤ºå®æ—¶ä¸”å‡†ç¡®
- [ ] é”™è¯¯æç¤ºä¿¡æ¯å‹å¥½
- [ ] æˆåŠŸæ“ä½œæœ‰æ˜ç¡®åé¦ˆ

## ğŸ¯ é¢„æœŸæ•ˆæœ

### ä¸šåŠ¡æµç¨‹ä¼˜åŒ–
- âœ… **ç®€åŒ–æ ¸é”€**: åªè®°å½•æ—¶é—´ï¼Œä¸å˜æ›´çŠ¶æ€
- âœ… **æ–°å¢æ”¹æœŸ**: æ”¯æŒæ—¶é—´è°ƒæ•´ï¼Œè‡ªåŠ¨å†²çªæ£€æµ‹
- âœ… **ä¿æŒç®€æ´**: æ€»ä½“æµç¨‹ä»ç„¶ç®€å•æ¸…æ™°

### ç”¨æˆ·ä½“éªŒæå‡
- âœ… **æ“ä½œç›´è§‚**: æŒ‰é’®æ˜¾ç¤ºé€»è¾‘æ¸…æ™°
- âœ… **åŠŸèƒ½å®Œæ•´**: æ ¸é”€+æ”¹æœŸ+å–æ¶ˆ ä¸‰å¤§æ ¸å¿ƒæ“ä½œ
- âœ… **å®‰å…¨å¯é **: è‡ªåŠ¨å†²çªæ£€æµ‹ï¼Œé˜²æ­¢æ—¶é—´é‡å 

### æŠ€æœ¯æ¶æ„æ”¹è¿›
- âœ… **äº‹åŠ¡ä¸€è‡´æ€§**: æ”¹æœŸæ—¶åŒæ­¥æ›´æ–°é¢„çº¦å’Œè¯¾è¡¨
- âœ… **æ€§èƒ½ä¼˜åŒ–**: é«˜æ•ˆçš„å†²çªæ£€æµ‹æŸ¥è¯¢
- âœ… **å¯æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºåç»­åŠŸèƒ½æ‰©å±•

---

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

1. **äº‹åŠ¡å¤„ç†**: æ”¹æœŸæ“ä½œå¿…é¡»ä¿è¯é¢„çº¦å’Œè¯¾è¡¨çš„æ•°æ®ä¸€è‡´æ€§
2. **å†²çªæ£€æµ‹**: æ—¶é—´å†²çªæ£€æµ‹é€»è¾‘è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µ
3. **æƒé™æ§åˆ¶**: ç¡®ä¿ä¸åŒè§’è‰²çš„æ“ä½œæƒé™æ­£ç¡®é…ç½®
4. **é”™è¯¯å¤„ç†**: æä¾›å‹å¥½çš„é”™è¯¯æç¤ºå’Œå¼‚å¸¸å¤„ç†
5. **æ€§èƒ½ä¼˜åŒ–**: å†²çªæ£€æµ‹æŸ¥è¯¢è¦è¿›è¡Œç´¢å¼•ä¼˜åŒ–
6. **æµ‹è¯•è¦†ç›–**: ç¡®ä¿å…³é”®ä¸šåŠ¡é€»è¾‘æœ‰å®Œæ•´çš„å•å…ƒæµ‹è¯•

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

- **å½“å‰ç‰ˆæœ¬**: v1.0.0 - åŸºç¡€é¢„çº¦ç®¡ç†åŠŸèƒ½
- **ç›®æ ‡ç‰ˆæœ¬**: v1.1.0 - å¢åŠ æ”¹æœŸåŠŸèƒ½ï¼Œä¼˜åŒ–æ ¸é”€é€»è¾‘
- **ä¸‹ä¸€ç‰ˆæœ¬**: v1.2.0 - å®Œå–„ç”¨æˆ·ä½“éªŒï¼Œå¢åŠ é«˜çº§åŠŸèƒ½

---

*æœ¬æ–‡æ¡£å°†ä½œä¸ºå¼€å‘å®æ–½çš„ä¸¥æ ¼ä¾æ®ï¼Œæ‰€æœ‰ä»£ç ä¿®æ”¹å¿…é¡»æŒ‰ç…§æ­¤æ–¹æ¡ˆæ‰§è¡Œã€‚*