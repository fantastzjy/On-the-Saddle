# 微信小程序开发工具配置说明

## 问题描述
微信开发者工具提示：`app.json is not found in the project root directory`

## 解决方案

### 正确的项目目录设置

**❌ 错误的目录**：
```
C:\Users\xiejinsheng\Desktop\On-the-Saddle-master\smart-app\
```

**✅ 正确的目录**：
```
C:\Users\xiejinsheng\Desktop\On-the-Saddle-master\smart-app\dist\dev\mp-weixin\
```

### 操作步骤

1. **首先构建项目**（如果dist目录不存在）：
   ```bash
   cd smart-app
   npm run build:mp-weixin
   # 或开发模式
   npm run dev:mp-weixin
   ```

2. **打开微信开发者工具**：
   - 选择"导入项目"
   - 项目目录选择：`C:\Users\xiejinsheng\Desktop\On-the-Saddle-master\smart-app\dist\dev\mp-weixin\`
   - AppID：`wx3916d4e79759fd78`（已在manifest.json中配置）

3. **验证配置**：
   - 确保能看到 `app.json`、`app.js`、`app.wxss` 等文件
   - 确保能看到 `pages` 目录及相关页面文件

### 项目结构说明

```
smart-app/
├── src/                          # 源码目录（开发时编辑）
│   ├── manifest.json             # uni-app配置文件
│   ├── pages.json               # 页面路由配置  
│   └── ...
├── dist/                        # 编译输出目录
│   └── dev/
│       └── mp-weixin/           # ← 微信开发者工具打开这个目录
│           ├── app.json         # 小程序配置文件
│           ├── app.js          # 小程序入口文件
│           ├── app.wxss        # 全局样式
│           └── pages/          # 页面文件
└── project.config.json          # 微信小程序项目配置
```

### 语音功能相关配置

项目已配置以下语音相关权限和插件：

- **微信同声传译插件**：WechatSI (version 0.3.4)
- **麦克风权限**：scope.record
- **后台音频模式**：支持音频录制

### 开发流程

1. **开发阶段**：编辑 `src/` 目录下的文件
2. **编译阶段**：运行 `npm run dev:mp-weixin` 自动编译到 `dist/dev/mp-weixin/`
3. **调试阶段**：微信开发者工具打开 `dist/dev/mp-weixin/` 目录进行调试
4. **发布阶段**：运行 `npm run build:mp-weixin` 生产环境编译

### 注意事项

- 不要直接编辑 `dist` 目录下的文件，这些都是编译生成的
- 每次修改源码后，需要重新编译才能在微信开发者工具中看到更新
- 如果遇到缓存问题，可以删除 `dist` 目录后重新编译