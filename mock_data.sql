-- ============================================
-- 鞍境马术俱乐部管理系统 - 综合模拟数据脚本
-- 基于当前数据库结构生成丰富的测试数据
-- 生成时间: 2025-08-17
-- ============================================

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ============================================
-- 1. 清理现有数据（保留基础俱乐部数据）
-- ============================================

-- 清理订单相关数据
DELETE FROM m_checkin_record WHERE id > 0;
DELETE FROM m_lesson_schedule WHERE schedule_id > 0;
DELETE FROM m_booking WHERE booking_id > 0;
DELETE FROM m_order_item WHERE id > 0;
DELETE FROM m_order WHERE order_id > 0;
DELETE FROM m_payment_flow WHERE flow_id > 0;
DELETE FROM m_payment_record WHERE payment_id > 0;

-- 清理商品数据
DELETE FROM m_product_config WHERE id > 0;
DELETE FROM m_product WHERE product_id > 0;

-- 清理会员相关数据（保留现有测试会员）
DELETE FROM m_membership_renew_history WHERE id > 0;
DELETE FROM m_family_member_relation WHERE id > 0;
DELETE FROM m_family_member_extra WHERE id > 0;

-- 重置自增ID
ALTER TABLE m_product AUTO_INCREMENT = 1;
ALTER TABLE m_order AUTO_INCREMENT = 1;
ALTER TABLE m_order_item AUTO_INCREMENT = 1;
ALTER TABLE m_booking AUTO_INCREMENT = 1;
ALTER TABLE m_lesson_schedule AUTO_INCREMENT = 1;
ALTER TABLE m_checkin_record AUTO_INCREMENT = 1;
ALTER TABLE m_payment_record AUTO_INCREMENT = 1;
ALTER TABLE m_payment_flow AUTO_INCREMENT = 1;

-- ============================================
-- 2. 扩展会员数据
-- ============================================

BEGIN;

-- 为不同俱乐部添加更多会员
INSERT INTO `m_member` (`member_no`, `union_id`, `open_id`, `actual_name`, `phone`, `email`, `avatar_url`, `gender`, `birth_date`, `club_id`, `is_membership`, `membership_status`, `membership_expire_date`, `id_card_no`, `rider_cert_no`, `registration_status`, `created_by_guardian`, `disabled_flag`, `profile_data`, `default_coach_id`, `default_course_level`, `last_login_time`, `create_by`, `create_time`, `is_valid`, `is_delete`) VALUES

-- 示例俱乐部会员 (club_id=1)
('M202508173001', '', '', '王小明', '13800001001', 'wangxm@email.com', 'https://example.com/avatar/member1.jpg', 1, '1995-03-15', 1, 1, 1, '2025-12-31', '110101199503152021', 'R2024001', 1, 0, 0, '{"level": "intermediate", "interests": ["场地障碍", "盛装舞步"]}', 1, 'INTERMEDIATE', '2025-08-16 10:30:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173002', '', '', '刘美丽', '13800001002', 'liuml@email.com', 'https://example.com/avatar/member2.jpg', 2, '1988-07-22', 1, 1, 1, '2026-03-31', '110101198807222022', 'R2024002', 1, 0, 0, '{"level": "advanced", "interests": ["盛装舞步"]}', 2, 'ADVANCED', '2025-08-15 14:20:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173003', '', '', '陈小龙', '13800001003', 'chenxl@email.com', 'https://example.com/avatar/member3.jpg', 1, '2010-05-10', 1, 0, 1, NULL, '110101201005102023', '', 1, 1, 0, '{"level": "beginner", "guardian_info": {"name": "陈大龙", "phone": "13800001004"}}', 1, 'BEGINNER', '2025-08-14 16:45:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173004', '', '', '孙雅静', '13800001005', 'sunyj@email.com', 'https://example.com/avatar/member4.jpg', 2, '1992-12-08', 1, 1, 1, '2025-11-30', '110101199212082024', 'R2024003', 1, 0, 0, '{"level": "intermediate", "interests": ["休闲骑乘"]}', 3, 'INTERMEDIATE', '2025-08-13 09:15:00', 'admin', '2025-08-17 08:00:00', 1, 0),

-- 北京阳光马术俱乐部会员 (club_id=2)
('M202508173005', '', '', '赵志强', '13800002001', 'zhaozq@email.com', 'https://example.com/avatar/member5.jpg', 1, '1985-11-30', 2, 1, 1, '2026-06-30', '110101198511302025', 'R2024004', 1, 0, 0, '{"level": "expert", "interests": ["场地障碍", "三项赛"]}', 3, 'EXPERT', '2025-08-16 11:30:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173006', '', '', '周丽华', '13800002002', 'zhoulh@email.com', 'https://example.com/avatar/member6.jpg', 2, '1990-04-18', 2, 1, 1, '2025-10-31', '110101199004182026', 'R2024005', 1, 0, 0, '{"level": "advanced", "interests": ["盛装舞步"]}', 4, 'ADVANCED', '2025-08-15 15:20:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173007', '', '', '吴小峰', '13800002003', 'wuxf@email.com', 'https://example.com/avatar/member7.jpg', 1, '2008-09-25', 2, 0, 1, NULL, '110101200809252027', '', 1, 1, 0, '{"level": "beginner", "guardian_info": {"name": "吴大峰", "phone": "13800002004"}}', 5, 'BEGINNER', '2025-08-14 10:40:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173008', '', '', '郑雅芳', '13800002005', 'zhengyf@email.com', 'https://example.com/avatar/member8.jpg', 2, '1987-01-12', 2, 1, 1, '2026-01-31', '110101198701122028', 'R2024006', 1, 0, 0, '{"level": "intermediate", "interests": ["休闲骑乘", "野外骑乘"]}', 6, 'INTERMEDIATE', '2025-08-13 13:25:00', 'admin', '2025-08-17 08:00:00', 1, 0),

-- 上海国际马术中心会员 (club_id=3)
('M202508173009', '', '', '黄建国', '13800003001', 'huangjg@email.com', 'https://example.com/avatar/member9.jpg', 1, '1982-06-15', 3, 1, 1, '2026-08-31', '310101198206152029', 'R2024007', 1, 0, 0, '{"level": "expert", "interests": ["场地障碍", "盛装舞步", "三项赛"]}', 5, 'EXPERT', '2025-08-16 08:45:00', 'admin', '2025-08-17 08:00:00', 1, 0),

('M202508173010', '', '', '林婉清', '13800003002', 'linwq@email.com', 'https://example.com/avatar/member10.jpg', 2, '1994-10-03', 3, 1, 1, '2025-12-31', '310101199410032030', 'R2024008', 1, 0, 0, '{"level": "advanced", "interests": ["盛装舞步", "休闲骑乘"]}', 6, 'ADVANCED', '2025-08-15 12:10:00', 'admin', '2025-08-17 08:00:00', 1, 0);

COMMIT;

-- ============================================
-- 3. 马匹数据（扩展现有数据）
-- ============================================

BEGIN;

-- 为各个俱乐部添加更多马匹
INSERT INTO `m_horse` (`club_id`, `horse_name`, `horse_code`, `breed`, `gender`, `color`, `birth_date`, `chip_no`, `passport_no`, `pedigree_cert_url`, `horse_type`, `owner_id`, `responsible_coach_id`, `responsible_groom_id`, `boarding_start_date`, `boarding_end_date`, `health_status`, `work_status`, `height`, `weight`, `horse_data`, `create_by`, `create_time`, `update_by`, `update_time`, `is_valid`, `is_delete`) VALUES

-- 示例俱乐部马匹 (club_id=1)
(1, '烈火', 'H001004', '纯血马', 1, '栗色', '2018-04-15 10:00:00', 'CHN9840001234580', 'CHN180415004', 'https://example.com/pedigree/lieHuo_pedigree.jpg', 1, 0, 1, 1001, '1970-01-01 00:00:00', '1970-01-01 00:00:00', 1, 1, 165, 520, '{"specialties": ["场地障碍", "速度训练"], "care_requirements": "需要充足运动,定期蹄部护理", "training_plan": "每日训练2小时,跳跃练习", "identification_marks": "右后腿有白色标记"}', 'admin', '2025-08-17 08:00:00', 'admin', '2025-08-17 08:00:00', 1, 0),

(1, '月亮', 'H001005', '温血马', 2, '灰色', '2019-08-22 14:30:00', 'CHN9840001234581', 'CHN190822005', 'https://example.com/pedigree/yueLiang_pedigree.jpg', 1, 0, 2, 1002, '1970-01-01 00:00:00', '1970-01-01 00:00:00', 1, 1, 162, 495, '{"specialties": ["盛装舞步", "基础训练"], "care_requirements": "性格温顺,适合初学者", "training_plan": "基础步伐训练", "identification_marks": "额头有星形白斑"}', 'admin', '2025-08-17 08:00:00', 'admin', '2025-08-17 08:00:00', 1, 0),

-- 北京阳光马术俱乐部马匹 (club_id=2)
(2, '雷电', 'H002001', '汉诺威马', 1, '黑色', '2017-01-10 09:00:00', 'CHN9840001234582', 'CHN170110006', 'https://example.com/pedigree/leiDian_pedigree.jpg', 1, 0, 3, 1003, '1970-01-01 00:00:00', '1970-01-01 00:00:00', 1, 1, 168, 550, '{"specialties": ["高级障碍", "竞技比赛"], "care_requirements": "需要专业照料,高强度训练", "training_plan": "专业竞技训练", "identification_marks": "左肩胛有疤痕"}', 'admin', '2025-08-17 08:00:00', 'admin', '2025-08-17 08:00:00', 1, 0),

(2, '彩虹', 'H002002', '奥尔登堡马', 2, '栗色', '2020-05-30 11:20:00', 'CHN9840001234583', 'CHN200530007', 'https://example.com/pedigree/caiHong_pedigree.jpg', 1, 0, 4, 1004, '1970-01-01 00:00:00', '1970-01-01 00:00:00', 1, 1, 164, 510, '{"specialties": ["盛装舞步", "表演"], "care_requirements": "优雅美丽,适合表演", "training_plan": "舞步训练为主", "identification_marks": "四肢有白色袜套"}', 'admin', '2025-08-17 08:00:00', 'admin', '2025-08-17 08:00:00', 1, 0),

-- 上海国际马术中心马匹 (club_id=3)
(3, '飞翔', 'H003001', 'KWPN马', 1, '枣红色', '2016-12-08 15:45:00', 'CHN9840001234584', 'CHN161208008', 'https://example.com/pedigree/feiXiang_pedigree.jpg', 1, 0, 5, 1005, '1970-01-01 00:00:00', '1970-01-01 00:00:00', 1, 1, 170, 580, '{"specialties": ["国际级障碍", "三项赛"], "care_requirements": "顶级竞技马,需要最专业护理", "training_plan": "国际比赛训练", "identification_marks": "鼻梁有白色条纹"}', 'admin', '2025-08-17 08:00:00', 'admin', '2025-08-17 08:00:00', 1, 0),

(3, '星辰', 'H003002', '荷兰温血马', 2, '深栗色', '2019-03-25 13:15:00', 'CHN9840001234585', 'CHN190325009', 'https://example.com/pedigree/xingChen_pedigree.jpg', 1, 0, 6, 1006, '1970-01-01 00:00:00', '1970-01-01 00:00:00', 1, 1, 166, 525, '{"specialties": ["盛装舞步", "高级训练"], "care_requirements": "优秀血统,表现稳定", "training_plan": "高级舞步训练", "identification_marks": "尾巴有天然卷曲"}', 'admin', '2025-08-17 08:00:00', 'admin', '2025-08-17 08:00:00', 1, 0);

COMMIT;

-- ============================================
-- 4. 商品数据
-- ============================================

BEGIN;

-- 课程类商品
INSERT INTO `m_product` (`club_id`, `product_name`, `product_code`, `product_type`, `sub_type`, `description`, `images`, `status`, `sort_order`, `create_by`, `create_time`, `is_valid`, `is_delete`) VALUES

-- 示例俱乐部商品 (club_id=1)
(1, '马术基础体验课', 'COURSE_BASIC_001', 1, 'single_class', '专为初学者设计的马术入门体验课程，包含马术基础知识讲解、马匹接触体验、基础骑乘训练。由专业教练一对一指导，确保安全的同时让您感受马术的魅力。', '["https://example.com/product/basic_course_1.jpg", "https://example.com/product/basic_course_2.jpg"]', 1, 1, 'admin', '2025-08-17 08:00:00', 1, 0),

(1, '场地障碍进阶课', 'COURSE_JUMP_001', 1, 'single_class', '针对有一定基础的学员开设的场地障碍课程，逐步提升跳跃技巧和马匹配合能力。课程包含障碍设置、跳跃技巧、路线规划等专业内容。', '["https://example.com/product/jump_course_1.jpg"]', 1, 2, 'admin', '2025-08-17 08:00:00', 1, 0),

(1, '盛装舞步优雅课', 'COURSE_DRESS_001', 1, 'single_class', '学习经典的盛装舞步动作，培养优雅的骑乘姿态和与马匹的默契配合。适合希望提升骑乘艺术性的学员。', '["https://example.com/product/dressage_course_1.jpg"]', 1, 3, 'admin', '2025-08-17 08:00:00', 1, 0),

(1, '儿童马术启蒙课', 'COURSE_KIDS_001', 1, 'single_class', '专为6-12岁儿童设计的马术启蒙课程，通过游戏化教学方式让孩子在安全环境中接触马匹，培养勇气和爱心。', '["https://example.com/product/kids_course_1.jpg"]', 1, 4, 'admin', '2025-08-17 08:00:00', 1, 0),

-- 课时包商品
(1, '马术基础课时包(10次)', 'PACKAGE_BASIC_10', 2, 'multi_class', '马术基础课程10次套餐，适合初学者系统性学习马术基础知识和技能。享受套餐优惠价格，有效期6个月。', '["https://example.com/product/basic_package_1.jpg"]', 1, 5, 'admin', '2025-08-17 08:00:00', 1, 0),

(1, '进阶技巧课时包(20次)', 'PACKAGE_ADV_20', 2, 'multi_class', '进阶技巧课程20次套餐，包含场地障碍和盛装舞步训练。享受更优惠的价格，有效期12个月。', '["https://example.com/product/advanced_package_1.jpg"]', 1, 6, 'admin', '2025-08-17 08:00:00', 1, 0),

-- 北京阳光马术俱乐部商品 (club_id=2)
(2, '专业竞技训练课', 'COURSE_COMP_001', 1, 'single_class', '面向有竞赛目标的学员，提供专业的竞技马术训练，包含比赛策略、心理素质培养等内容。', '["https://example.com/product/competition_course_1.jpg"]', 1, 1, 'admin', '2025-08-17 08:00:00', 1, 0),

(2, '三项赛训练课', 'COURSE_EVENT_001', 1, 'single_class', '综合性的三项赛训练，包含盛装舞步、越野赛和场地障碍三个项目的训练内容。', '["https://example.com/product/eventing_course_1.jpg"]', 1, 2, 'admin', '2025-08-17 08:00:00', 1, 0),

(2, '高级会员课时包(30次)', 'PACKAGE_VIP_30', 2, 'multi_class', '高级会员专享课时包，可选择任意课程类型，享受最优惠价格和优先预约权。', '["https://example.com/product/vip_package_1.jpg"]', 1, 3, 'admin', '2025-08-17 08:00:00', 1, 0),

-- 上海国际马术中心商品 (club_id=3)
(3, '国际标准课程', 'COURSE_INTL_001', 1, 'single_class', '按照国际马联(FEI)标准设计的专业课程，由国际认证教练授课，适合追求专业水准的学员。', '["https://example.com/product/international_course_1.jpg"]', 1, 1, 'admin', '2025-08-17 08:00:00', 1, 0),

(3, '贵宾私教课程', 'COURSE_PRIVATE_001', 1, 'single_class', '一对一私人教练课程，完全个性化的教学方案，最大程度提升学习效果。', '["https://example.com/product/private_course_1.jpg"]', 1, 2, 'admin', '2025-08-17 08:00:00', 1, 0);

-- 商品配置数据
INSERT INTO `m_product_config` (`product_id`, `config_key`, `config_value`, `description`, `create_time`) VALUES

-- 基础体验课配置
(1, 'duration', '60', '课程时长(分钟)'),
(1, 'max_students', '1', '最大学员数'),
(1, 'price', '280', '课程价格'),
(1, 'advance_booking_days', '3', '需提前预约天数'),
(1, 'suitable_age', '8-60', '适合年龄'),
(1, 'difficulty_level', 'BEGINNER', '难度等级'),

-- 场地障碍进阶课配置
(2, 'duration', '90', '课程时长(分钟)'),
(2, 'max_students', '2', '最大学员数'),
(2, 'price', '450', '课程价格'),
(2, 'advance_booking_days', '5', '需提前预约天数'),
(2, 'suitable_age', '12-55', '适合年龄'),
(2, 'difficulty_level', 'INTERMEDIATE', '难度等级'),
(2, 'required_experience', '至少20小时骑乘经验', '经验要求'),

-- 盛装舞步课配置
(3, 'duration', '75', '课程时长(分钟)'),
(3, 'max_students', '1', '最大学员数'),
(3, 'price', '420', '课程价格'),
(3, 'advance_booking_days', '7', '需提前预约天数'),
(3, 'suitable_age', '14-65', '适合年龄'),
(3, 'difficulty_level', 'INTERMEDIATE', '难度等级'),

-- 儿童启蒙课配置
(4, 'duration', '45', '课程时长(分钟)'),
(4, 'max_students', '1', '最大学员数'),
(4, 'price', '220', '课程价格'),
(4, 'advance_booking_days', '2', '需提前预约天数'),
(4, 'suitable_age', '6-12', '适合年龄'),
(4, 'difficulty_level', 'BEGINNER', '难度等级'),
(4, 'guardian_required', 'true', '需要监护人陪同'),

-- 课时包配置
(5, 'total_classes', '10', '总课时数'),
(5, 'unit_price', '250', '单次课程价格'),
(5, 'package_price', '2200', '套餐总价'),
(5, 'validity_months', '6', '有效期(月)'),
(5, 'class_type', 'COURSE_BASIC_001', '包含的课程类型'),

(6, 'total_classes', '20', '总课时数'),
(6, 'unit_price', '400', '单次课程价格'),
(6, 'package_price', '7200', '套餐总价'),
(6, 'validity_months', '12', '有效期(月)'),
(6, 'class_types', 'COURSE_JUMP_001,COURSE_DRESS_001', '包含的课程类型');

COMMIT;

-- ============================================
-- 5. 订单数据
-- ============================================

BEGIN;

-- 生成各种状态的订单
INSERT INTO `m_order` (`order_no`, `club_id`, `member_id`, `order_type`, `order_status`, `total_amount`, `paid_amount`, `payment_method`, `payment_time`, `confirm_time`, `complete_time`, `remark`, `create_by`, `create_time`, `is_valid`, `is_delete`) VALUES

-- 已完成的订单
('ORD20250815143025001', 1, 3, 1, 4, 280.00, 280.00, 'wechat', '2025-08-15 14:35:00', '2025-08-15 15:00:00', '2025-08-16 11:30:00', '王小明的基础体验课，表现优秀', 'system', '2025-08-15 14:30:25', 1, 0),

('ORD20250814102018002', 1, 4, 2, 4, 2200.00, 2200.00, 'wechat', '2025-08-14 10:25:00', '2025-08-14 10:30:00', '2025-08-16 18:00:00', '刘美丽购买基础课时包', 'system', '2025-08-14 10:20:18', 1, 0),

-- 已确认等待上课的订单
('ORD20250816090512003', 2, 5, 1, 3, 450.00, 450.00, 'wechat', '2025-08-16 09:10:00', '2025-08-16 09:20:00', NULL, '赵志强预约明天的进阶课程', 'system', '2025-08-16 09:05:12', 1, 0),

('ORD20250816143045004', 3, 9, 1, 3, 580.00, 580.00, 'wechat', '2025-08-16 14:35:00', '2025-08-16 14:40:00', NULL, '黄建国的国际标准课程', 'system', '2025-08-16 14:30:45', 1, 0),

-- 已支付待确认的订单
('ORD20250817080015005', 1, 1, 1, 2, 420.00, 420.00, 'wechat', '2025-08-17 08:05:00', NULL, NULL, '张三预约盛装舞步课程', 'system', '2025-08-17 08:00:15', 1, 0),

('ORD20250817083020006', 2, 6, 2, 2, 7200.00, 7200.00, 'wechat', '2025-08-17 08:35:00', NULL, NULL, '周丽华购买进阶课时包', 'system', '2025-08-17 08:30:20', 1, 0),

-- 待支付的订单
('ORD20250817090030007', 1, 2, 1, 1, 220.00, 0.00, '', NULL, NULL, NULL, '李四为孩子预约儿童启蒙课', 'system', '2025-08-17 09:00:30', 1, 0),

('ORD20250817091545008', 3, 10, 1, 1, 680.00, 0.00, '', NULL, NULL, NULL, '林婉清预约贵宾私教课程', 'system', '2025-08-17 09:15:45', 1, 0),

-- 已取消的订单
('ORD20250813162030009', 2, 7, 1, 5, 280.00, 0.00, '', NULL, NULL, NULL, '吴小峰时间冲突取消预约 [取消原因：时间安排冲突]', 'system', '2025-08-13 16:20:30', 1, 0);

-- 订单明细数据
INSERT INTO `m_order_item` (`order_id`, `product_id`, `product_name`, `product_type`, `quantity`, `unit_price`, `total_price`, `coach_id`, `preferred_time`, `item_config`, `create_time`) VALUES

-- 订单1的明细
(1, 1, '马术基础体验课', 1, 1, 280.00, 280.00, 1, '2025-08-16 10:00:00', '{"duration": 60, "difficulty": "BEGINNER", "special_requirements": ""}', '2025-08-15 14:30:25'),

-- 订单2的明细（课时包）
(2, 5, '马术基础课时包(10次)', 2, 1, 2200.00, 2200.00, 2, '2025-08-15 09:00:00', '{"total_classes": 10, "validity_months": 6, "class_type": "COURSE_BASIC_001"}', '2025-08-14 10:20:18'),

-- 订单3的明细
(3, 2, '场地障碍进阶课', 1, 1, 450.00, 450.00, 3, '2025-08-17 15:00:00', '{"duration": 90, "difficulty": "INTERMEDIATE", "horse_preference": "经验丰富的马匹"}', '2025-08-16 09:05:12'),

-- 订单4的明细
(4, 10, '国际标准课程', 1, 1, 580.00, 580.00, 5, '2025-08-18 14:00:00', '{"duration": 90, "difficulty": "ADVANCED", "international_standard": true}', '2025-08-16 14:30:45'),

-- 订单5的明细
(5, 3, '盛装舞步优雅课', 1, 1, 420.00, 420.00, 2, '2025-08-18 10:00:00', '{"duration": 75, "difficulty": "INTERMEDIATE", "focus": "优雅姿态"}', '2025-08-17 08:00:15'),

-- 订单6的明细
(6, 6, '进阶技巧课时包(20次)', 2, 1, 7200.00, 7200.00, 4, '2025-08-19 09:00:00', '{"total_classes": 20, "validity_months": 12, "class_types": ["COURSE_JUMP_001", "COURSE_DRESS_001"]}', '2025-08-17 08:30:20'),

-- 订单7的明细
(7, 4, '儿童马术启蒙课', 1, 1, 220.00, 220.00, 1, '2025-08-18 16:00:00', '{"duration": 45, "difficulty": "BEGINNER", "age_group": "kids", "guardian_required": true}', '2025-08-17 09:00:30'),

-- 订单8的明细
(8, 11, '贵宾私教课程', 1, 1, 680.00, 680.00, 6, '2025-08-19 11:00:00', '{"duration": 90, "difficulty": "ADVANCED", "one_on_one": true, "customized": true}', '2025-08-17 09:15:45'),

-- 订单9的明细（已取消）
(9, 1, '马术基础体验课', 1, 1, 280.00, 280.00, 1, '2025-08-14 10:00:00', '{"duration": 60, "difficulty": "BEGINNER"}', '2025-08-13 16:20:30');

COMMIT;

-- ============================================
-- 6. 预约数据
-- ============================================

BEGIN;

-- 生成预约记录（基于已确认和已完成的订单）
INSERT INTO `m_booking` (`order_id`, `order_item_id`, `club_id`, `member_id`, `product_id`, `coach_id`, `horse_id`, `start_time`, `end_time`, `booking_status`, `actual_coach_fee`, `actual_horse_fee`, `arrival_time`, `completion_time`, `cancel_reason`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES

-- 已完成的预约
(1, 1, 1, 3, 1, 1, 15, '2025-08-16 10:00:00', '2025-08-16 11:00:00', 4, 100.00, 50.00, '2025-08-16 09:45:00', '2025-08-16 11:15:00', '', 'system', '2025-08-15 14:30:25', 'system', '2025-08-16 11:15:00'),

(2, 2, 1, 4, 5, 2, 16, '2025-08-15 09:00:00', '2025-08-15 10:00:00', 4, 120.00, 60.00, '2025-08-15 08:50:00', '2025-08-15 10:05:00', '', 'system', '2025-08-14 10:20:18', 'system', '2025-08-15 10:05:00'),

-- 已确认等待上课的预约
(3, 3, 2, 5, 2, 3, 17, '2025-08-17 15:00:00', '2025-08-17 16:30:00', 2, 150.00, 80.00, NULL, NULL, '', 'system', '2025-08-16 09:05:12', 'system', '2025-08-16 09:20:00'),

(4, 4, 3, 9, 10, 5, 18, '2025-08-18 14:00:00', '2025-08-18 15:30:00', 2, 200.00, 100.00, NULL, NULL, '', 'system', '2025-08-16 14:30:45', 'system', '2025-08-16 14:40:00'),

-- 待确认的预约
(5, 5, 1, 1, 3, 2, 16, '2025-08-18 10:00:00', '2025-08-18 11:15:00', 1, 140.00, 70.00, NULL, NULL, '', 'system', '2025-08-17 08:00:15', 'system', '2025-08-17 08:00:15'),

-- 课时包生成的多个预约（周丽华的进阶课时包首次预约）
(6, 6, 2, 6, 6, 4, 19, '2025-08-19 09:00:00', '2025-08-19 10:30:00', 1, 160.00, 80.00, NULL, NULL, '', 'system', '2025-08-17 08:30:20', 'system', '2025-08-17 08:30:20');

COMMIT;

-- ============================================
-- 7. 课表数据
-- ============================================

BEGIN;

-- 生成课表记录（基于预约记录）
INSERT INTO `m_lesson_schedule` (`booking_id`, `schedule_no`, `club_id`, `member_id`, `coach_id`, `horse_id`, `lesson_date`, `start_time`, `end_time`, `lesson_status`, `notification_sent`, `reminder_sent`, `create_by`, `create_time`) VALUES

-- 已完成的课程
(1, 'SCH20250816100001', 1, 3, 1, 4, '2025-08-16', '2025-08-16 10:00:00', '2025-08-16 11:00:00', 3, 1, 1, 'system', '2025-08-15 14:30:25'),

(2, 'SCH20250815090002', 1, 4, 2, 5, '2025-08-15', '2025-08-15 09:00:00', '2025-08-15 10:00:00', 3, 1, 1, 'system', '2025-08-14 10:20:18'),

-- 即将进行的课程
(3, 'SCH20250817150003', 2, 5, 3, 6, '2025-08-17', '2025-08-17 15:00:00', '2025-08-17 16:30:00', 1, 1, 1, 'system', '2025-08-16 09:05:12'),

(4, 'SCH20250818140004', 3, 9, 5, 8, '2025-08-18', '2025-08-18 14:00:00', '2025-08-18 15:30:00', 1, 1, 0, 'system', '2025-08-16 14:30:45'),

-- 待确认的课程
(5, 'SCH20250818100005', 1, 1, 2, 5, '2025-08-18', '2025-08-18 10:00:00', '2025-08-18 11:15:00', 1, 0, 0, 'system', '2025-08-17 08:00:15'),

(6, 'SCH20250819090006', 2, 6, 4, 7, '2025-08-19', '2025-08-19 09:00:00', '2025-08-19 10:30:00', 1, 0, 0, 'system', '2025-08-17 08:30:20');

COMMIT;

-- ============================================
-- 8. 签到记录数据
-- ============================================

BEGIN;

-- 生成签到记录（基于已完成的课程）
INSERT INTO `m_checkin_record` (`booking_id`, `schedule_id`, `member_id`, `checkin_time`, `checkin_staff`, `checkout_time`, `checkout_staff`, `actual_duration`, `remark`, `create_by`, `create_time`) VALUES

-- 王小明的基础体验课签到记录
(1, 1, 3, '2025-08-16 09:45:00', '前台小王', '2025-08-16 11:15:00', '前台小王', 75, '学员表现积极，学习能力强，建议继续进阶课程', 'system', '2025-08-16 09:45:00'),

-- 刘美丽的课时包首次课程签到记录
(2, 2, 4, '2025-08-15 08:50:00', '前台小李', '2025-08-15 10:05:00', '前台小李', 65, '课时包第1次课程，基础扎实，可以适当增加难度', 'system', '2025-08-15 08:50:00');

COMMIT;

-- ============================================
-- 9. 支付记录数据
-- ============================================

BEGIN;

-- 生成支付记录
INSERT INTO `m_payment_record` (`order_id`, `payment_no`, `trade_no`, `payment_method`, `payment_type`, `payment_amount`, `payment_status`, `prepay_id`, `openid`, `payment_time`, `notify_time`, `callback_data`, `refund_reason`, `refund_amount`, `refund_time`, `refund_status`, `expire_time`, `create_by`, `create_time`) VALUES

-- 已支付成功的记录
(1, 'PAY2025081514302501', 'wx2025081514302501', 'wechat', 1, 280.00, 3, 'prepay_id_001', 'openid_wangxm', '2025-08-15 14:35:00', '2025-08-15 14:35:05', '{"result_code":"SUCCESS","return_code":"SUCCESS"}', '', 0.00, NULL, 0, '2025-08-15 16:35:00', 'system', '2025-08-15 14:30:25'),

(2, 'PAY2025081410201802', 'wx2025081410201802', 'wechat', 1, 2200.00, 3, 'prepay_id_002', 'openid_liuml', '2025-08-14 10:25:00', '2025-08-14 10:25:03', '{"result_code":"SUCCESS","return_code":"SUCCESS"}', '', 0.00, NULL, 0, '2025-08-14 12:25:00', 'system', '2025-08-14 10:20:18'),

(3, 'PAY2025081609051203', 'wx2025081609051203', 'wechat', 1, 450.00, 3, 'prepay_id_003', 'openid_zhaozq', '2025-08-16 09:10:00', '2025-08-16 09:10:02', '{"result_code":"SUCCESS","return_code":"SUCCESS"}', '', 0.00, NULL, 0, '2025-08-16 11:10:00', 'system', '2025-08-16 09:05:12'),

(4, 'PAY2025081614304504', 'wx2025081614304504', 'wechat', 1, 580.00, 3, 'prepay_id_004', 'openid_huangjg', '2025-08-16 14:35:00', '2025-08-16 14:35:01', '{"result_code":"SUCCESS","return_code":"SUCCESS"}', '', 0.00, NULL, 0, '2025-08-16 16:35:00', 'system', '2025-08-16 14:30:45'),

(5, 'PAY2025081708001505', 'wx2025081708001505', 'wechat', 1, 420.00, 3, 'prepay_id_005', 'openid_zhangsan', '2025-08-17 08:05:00', '2025-08-17 08:05:02', '{"result_code":"SUCCESS","return_code":"SUCCESS"}', '', 0.00, NULL, 0, '2025-08-17 10:05:00', 'system', '2025-08-17 08:00:15'),

(6, 'PAY2025081708302006', 'wx2025081708302006', 'wechat', 1, 7200.00, 3, 'prepay_id_006', 'openid_zhoulh', '2025-08-17 08:35:00', '2025-08-17 08:35:01', '{"result_code":"SUCCESS","return_code":"SUCCESS"}', '', 0.00, NULL, 0, '2025-08-17 10:35:00', 'system', '2025-08-17 08:30:20'),

-- 待支付的记录
(7, 'PAY2025081709003007', '', 'wechat', 1, 220.00, 1, '', '', NULL, NULL, '', '', 0.00, NULL, 0, '2025-08-17 11:00:30', 'system', '2025-08-17 09:00:30'),

(8, 'PAY2025081709154508', '', 'wechat', 1, 680.00, 1, '', '', NULL, NULL, '', '', 0.00, NULL, 0, '2025-08-17 11:15:45', 'system', '2025-08-17 09:15:45'),

-- 已取消订单的支付记录
(9, 'PAY2025081316203009', '', 'wechat', 1, 280.00, 5, '', '', NULL, NULL, '', '用户主动取消', 0.00, NULL, 0, '2025-08-13 18:20:30', 'system', '2025-08-13 16:20:30');

COMMIT;

-- ============================================
-- 10. 支付流水数据
-- ============================================

BEGIN;

INSERT INTO `m_payment_flow` (`payment_id`, `flow_type`, `flow_amount`, `flow_desc`, `operator_id`, `operator_type`, `flow_data`, `create_time`) VALUES

-- 成功支付的流水记录
(1, 1, 280.00, '创建订单：马术基础体验课', 3, 1, '{"order_no":"ORD20250815143025001"}', '2025-08-15 14:30:25'),
(1, 2, 280.00, '发起微信支付', 3, 1, '{"prepay_id":"prepay_id_001"}', '2025-08-15 14:32:00'),
(1, 3, 280.00, '支付成功', 3, 1, '{"trade_no":"wx2025081514302501"}', '2025-08-15 14:35:00'),

(2, 1, 2200.00, '创建订单：马术基础课时包(10次)', 4, 1, '{"order_no":"ORD20250814102018002"}', '2025-08-14 10:20:18'),
(2, 2, 2200.00, '发起微信支付', 4, 1, '{"prepay_id":"prepay_id_002"}', '2025-08-14 10:22:00'),
(2, 3, 2200.00, '支付成功', 4, 1, '{"trade_no":"wx2025081410201802"}', '2025-08-14 10:25:00'),

(3, 1, 450.00, '创建订单：场地障碍进阶课', 5, 1, '{"order_no":"ORD20250816090512003"}', '2025-08-16 09:05:12'),
(3, 2, 450.00, '发起微信支付', 5, 1, '{"prepay_id":"prepay_id_003"}', '2025-08-16 09:07:00'),
(3, 3, 450.00, '支付成功', 5, 1, '{"trade_no":"wx2025081609051203"}', '2025-08-16 09:10:00'),

-- 待支付的流水记录
(7, 1, 220.00, '创建订单：儿童马术启蒙课', 2, 1, '{"order_no":"ORD20250817090030007"}', '2025-08-17 09:00:30'),

(8, 1, 680.00, '创建订单：贵宾私教课程', 10, 1, '{"order_no":"ORD20250817091545008"}', '2025-08-17 09:15:45');

COMMIT;

-- ============================================
-- 11. 教练可用时间数据
-- ============================================

BEGIN;

-- 生成教练的可用时间安排（未来一周）
INSERT INTO `m_coach_availability` (`club_id`, `coach_id`, `available_date`, `start_time`, `end_time`, `status`, `remark`, `create_time`) VALUES

-- 示例俱乐部教练可用时间 (club_id=1)
-- 教练1的时间安排
(1, 1, '2025-08-18', '09:00:00', '12:00:00', 1, '上午时段可预约', '2025-08-17 08:00:00'),
(1, 1, '2025-08-18', '14:00:00', '17:00:00', 1, '下午时段可预约', '2025-08-17 08:00:00'),
(1, 1, '2025-08-19', '09:00:00', '12:00:00', 1, '上午时段可预约', '2025-08-17 08:00:00'),
(1, 1, '2025-08-19', '14:00:00', '17:00:00', 3, '已被预约', '2025-08-17 08:00:00'),
(1, 1, '2025-08-20', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),

-- 教练2的时间安排
(1, 2, '2025-08-18', '08:00:00', '11:00:00', 3, '已预约：张三的盛装舞步课', '2025-08-17 08:00:00'),
(1, 2, '2025-08-18', '15:00:00', '18:00:00', 1, '下午时段可预约', '2025-08-17 08:00:00'),
(1, 2, '2025-08-19', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),
(1, 2, '2025-08-20', '09:00:00', '12:00:00', 2, '请假', '2025-08-17 08:00:00'),

-- 北京阳光马术俱乐部教练时间 (club_id=2)
-- 教练3的时间安排
(2, 3, '2025-08-17', '13:00:00', '18:00:00', 3, '已预约：赵志强的障碍课', '2025-08-16 09:00:00'),
(2, 3, '2025-08-18', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),
(2, 3, '2025-08-19', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),

-- 教练4的时间安排
(2, 4, '2025-08-19', '08:00:00', '12:00:00', 3, '已预约：周丽华的课时包课程', '2025-08-17 08:00:00'),
(2, 4, '2025-08-19', '14:00:00', '18:00:00', 1, '下午时段可预约', '2025-08-17 08:00:00'),
(2, 4, '2025-08-20', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),

-- 上海国际马术中心教练时间 (club_id=3)
-- 教练5的时间安排
(3, 5, '2025-08-18', '12:00:00', '17:00:00', 3, '已预约：黄建国的国际标准课程', '2025-08-16 14:00:00'),
(3, 5, '2025-08-19', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),
(3, 5, '2025-08-20', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00'),

-- 教练6的时间安排
(3, 6, '2025-08-19', '10:00:00', '13:00:00', 1, '上午时段可预约', '2025-08-17 08:00:00'),
(3, 6, '2025-08-19', '14:00:00', '18:00:00', 1, '下午时段可预约', '2025-08-17 08:00:00'),
(3, 6, '2025-08-20', '09:00:00', '17:00:00', 1, '全天可预约', '2025-08-17 08:00:00');

COMMIT;

-- ============================================
-- 12. 会籍续费历史数据
-- ============================================

BEGIN;

INSERT INTO `m_membership_renew_history` (`member_id`, `renew_months`, `renew_amount`, `old_expire_date`, `new_expire_date`, `payment_method`, `remark`, `renew_date`, `create_by`, `create_time`, `is_valid`, `is_delete`) VALUES

-- 会员续费记录
(3, 12, 2400.00, '2025-06-30', '2026-06-30', 'wechat', '年度会籍续费，享受9折优惠', '2025-06-15', 'admin', '2025-06-15 10:30:00', 1, 0),
(4, 6, 1200.00, '2025-08-31', '2026-02-28', 'wechat', '半年会籍续费', '2025-08-10', 'admin', '2025-08-10 14:20:00', 1, 0),
(5, 18, 3600.00, '2025-12-31', '2027-06-30', 'wechat', '18个月会籍套餐，享受8.5折优惠', '2025-08-01', 'admin', '2025-08-01 09:15:00', 1, 0),
(6, 12, 2400.00, '2024-10-31', '2025-10-31', 'wechat', '年度会籍续费', '2024-10-01', 'admin', '2024-10-01 16:45:00', 1, 0),
(9, 24, 4800.00, '2025-08-31', '2027-08-31', 'wechat', '两年会籍套餐，享受8折优惠', '2025-07-20', 'admin', '2025-07-20 11:30:00', 1, 0),
(10, 6, 1200.00, '2025-06-30', '2025-12-31', 'wechat', '半年会籍续费', '2025-05-15', 'admin', '2025-05-15 13:20:00', 1, 0);

COMMIT;

-- ============================================
-- 13. 恢复外键检查
-- ============================================

SET FOREIGN_KEY_CHECKS = 1;

-- ============================================
-- 数据生成完成说明
-- ============================================

/*
生成的模拟数据说明：

1. 会员数据：
   - 新增10名会员，分布在3个俱乐部
   - 涵盖不同年龄段（儿童、成人）
   - 不同会籍状态和骑乘水平

2. 马匹数据：
   - 为各俱乐部新增6匹马
   - 包含不同品种、年龄、训练水平的马匹
   - 设置了详细的健康和训练信息

3. 商品数据：
   - 11个商品，涵盖单次课程和课时包
   - 分布在3个俱乐部，适合不同水平学员
   - 包含详细的配置信息

4. 订单数据：
   - 9个订单，涵盖所有订单状态
   - 包含已完成、进行中、待支付、已取消等状态
   - 真实的时间线和业务流程

5. 预约和课表：
   - 基于订单生成相应的预约和课表记录
   - 包含已完成和即将进行的课程
   - 设置了合理的时间安排

6. 签到记录：
   - 为已完成的课程生成签到记录
   - 包含实际上课时长和学员表现评价

7. 支付数据：
   - 完整的支付记录和流水
   - 包含微信支付的真实数据格式
   - 涵盖成功、待支付、失败等状态

8. 教练时间：
   - 未来一周的教练可用时间安排
   - 包含可用、已预约、请假等状态

9. 会籍续费：
   - 历史续费记录
   - 不同续费方案和优惠政策

该数据集可以充分测试订单预约管理系统的各个功能模块。
*/